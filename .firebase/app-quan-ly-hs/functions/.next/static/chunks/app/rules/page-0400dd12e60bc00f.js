(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[1821],{73771:function(e,t,n){Promise.resolve().then(n.bind(n,76497))},76497:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return x}});var r=n(27573),a=n(7653),s=n(50294),i=n(21897),l=n(66356),o=n(50466),d=n(29324),c=n(39134),u=n(81758),f=n(98609);let p={toFirestore(e){let t={category:e.category,code:e.code,description:e.description,points:e.points,type:e.type,updatedAt:(0,i.Bt)()};return delete t.id,delete t.content,delete t.score,delete t.order,t},fromFirestore(e){var t,n,r,a,s,i,l;let o=e.data(),d=String(null!==(n=null!==(t=o.description)&&void 0!==t?t:o.content)&&void 0!==n?n:""),c=null!==(a=null!==(r=o.points)&&void 0!==r?r:o.score)&&void 0!==a?a:0,u="number"==typeof c?c:Number(c)||0,f="merit"===o.type||"demerit"===o.type?o.type:u>=0?"merit":"demerit";return{id:e.id,code:String(null!==(s=o.code)&&void 0!==s?s:""),category:String(null!==(i=o.category)&&void 0!==i?i:""),description:d,points:u,type:f,content:d,score:u,order:"number"==typeof o.order?o.order:null,updatedAt:null!==(l=o.updatedAt)&&void 0!==l?l:null}}};function m(e){let{score:t}=e,n=t>=0?"+".concat(t):String(t);return(0,r.jsx)("span",{className:t<0?"text-red-600 font-semibold":"text-green-600 font-semibold",children:n})}let h={category:"",description:"",points:0,type:"merit"};function x(){var e,t,n,x;let g=null!==l.db&&void 0!==l.db?l.db:(0,i.ad)(),[y,N]=(0,a.useState)(null),[b,v]=(0,a.useState)(!1),[j,_]=(0,a.useState)([]),[E,w]=(0,a.useState)(!0),[I,C]=(0,a.useState)(!1),[S,A]=(0,a.useState)(h),[T,R]=(0,a.useState)(!1);(0,a.useEffect)(()=>l.I.onAuthStateChanged(async e=>{if(N(e),e)try{let t=await e.getIdTokenResult();v("admin"===t.claims.role)}catch(e){console.error("Error getting user claims:",e),v(!1)}else v(!1)}),[]),(0,a.useEffect)(()=>{if(!y)return;w(!0);let e=(0,i.IO)((0,i.hJ)(g,"rules").withConverter(p),(0,i.Xo)("code","asc"));return(0,i.cf)(e,e=>{_(e.docs.map(e=>e.data())),w(!1)},e=>{console.error("Load rules error:",e),w(!1)})},[g,y]);let B=e=>{A(e),C(!0)},P=e=>{let t="number"==typeof e?e:Number(e);return Number.isFinite(t)?t:0},k=async()=>{if(!S.category||!S.description){alert("Vui l\xf2ng điền đầy đủ Danh mục v\xe0 M\xf4 tả!");return}R(!0);try{var e,t;let n=P(S.points),r=null!==(e=S.type)&&void 0!==e?e:n>=0?"merit":"demerit",a={category:String(S.category),description:String(S.description),points:n,type:r,code:String(null!==(t=S.code)&&void 0!==t?t:""),updatedAt:(0,i.Bt)()};if(S.id){let e=(0,i.JU)(g,"rules",S.id),{code:t,...n}=a;await (0,i.r7)(e,n)}else{let e="VP001";if(j.length>0){let t=j[j.length-1].code||"",n=t.match(/^([A-Z]+)(\d+)$/);if(n){let t=n[1],r=n[2],a=parseInt(r,10)+1;e=t+String(a).padStart(r.length,"0")}else console.warn("Unexpected code format",t)}let t=(0,i.hJ)(g,"rules");await (0,i.ET)(t,{...a,code:e})}C(!1)}catch(e){console.error("Error saving document: ",e),alert("Đ\xe3 c\xf3 lỗi xảy ra. Vui l\xf2ng thử lại.")}finally{R(!1)}},D=async e=>{if(window.confirm("Bạn c\xf3 chắc chắn muốn xo\xe1 nội quy n\xe0y kh\xf4ng?"))try{await (0,i.oe)((0,i.JU)(g,"rules",e))}catch(e){console.error("Error deleting document: ",e),alert("Đ\xe3 c\xf3 lỗi xảy ra khi xo\xe1. Vui l\xf2ng thử lại.")}},F=e=>{let{name:t,value:n}=e.target;A(e=>({...e,[t]:"points"===t?Number(n):n}))},U=(e,t)=>{A(n=>({...n,[e]:t}))},L=(0,a.useMemo)(()=>(0,r.jsxs)("div",{className:"flex items-center gap-3",children:[(0,r.jsx)(s.default,{src:"https://firebasestorage.googleapis.com/v0/b/app-quan-ly-hs.firebasestorage.app/o/Icon%2Ficon%20rules.png?alt=media&token=ba9ff1f2-bcd2-417b-be65-cd6e67fce6f9",alt:"Biểu tượng Quy định",width:40,height:40}),(0,r.jsx)("h1",{className:"text-3xl font-black leading-tight",children:(0,r.jsx)("span",{className:"bg-gradient-to-r from-[#ff7a18] to-[#af002d] bg-clip-text text-transparent",children:"Quản L\xfd Quy Định"})})]}),[]),V=!!S.id;return(0,r.jsxs)("div",{className:"mx-auto max-w-6xl px-4 py-6",children:[(0,r.jsxs)("div",{className:"flex items-center justify-between",children:[(0,r.jsxs)("div",{children:[L,(0,r.jsx)("p",{className:"mt-2 text-muted-foreground",children:"Th\xeam, sửa, xo\xe1 v\xe0 quản l\xfd c\xe1c quy định về điểm số của nh\xe0 trường."})]}),b&&(0,r.jsx)(o.z,{onClick:()=>{A(h),C(!0)},children:"Th\xeam Nội Quy"})]}),(0,r.jsxs)("div",{className:"mt-6 rounded-xl border bg-background shadow-sm",children:[(0,r.jsxs)("div",{className:"border-b px-4 py-3",children:[(0,r.jsx)("h2",{className:"text-lg font-semibold",children:"Danh S\xe1ch Nội Quy"}),(0,r.jsx)("p",{className:"text-sm text-muted-foreground",children:"Chi tiết c\xe1c nội quy đang được \xe1p dụng trong to\xe0n hệ thống."})]}),(0,r.jsx)("div",{className:"overflow-x-auto",children:(0,r.jsxs)("table",{className:"min-w-full table-fixed border-separate border-spacing-0",children:[(0,r.jsx)("thead",{children:(0,r.jsxs)("tr",{className:"border-b bg-muted/40 text-left text-sm font-medium",children:[(0,r.jsx)("th",{className:"w-16 px-4 py-3",children:"STT"}),(0,r.jsx)("th",{className:"w-32 px-4 py-3",children:"M\xe3 số"}),(0,r.jsx)("th",{className:"w-40 px-4 py-3",children:"Danh mục"}),(0,r.jsx)("th",{className:"px-4 py-3",children:"M\xf4 tả / Ghi ch\xfa"}),(0,r.jsx)("th",{className:"w-28 px-4 py-3",children:"Điểm"}),(0,r.jsx)("th",{className:"w-36 px-4 py-3",children:"H\xe0nh động"})]})}),(0,r.jsxs)("tbody",{className:"text-sm",children:[E&&(0,r.jsx)("tr",{children:(0,r.jsx)("td",{className:"px-4 py-6 text-center",colSpan:6,children:"Đang tải..."})}),!E&&0===j.length&&(0,r.jsx)("tr",{children:(0,r.jsx)("td",{className:"px-4 py-6 text-center",colSpan:6,children:"Chưa c\xf3 nội quy."})}),!E&&j.map((e,t)=>(0,r.jsxs)("tr",{className:"border-t hover:bg-muted/30",children:[(0,r.jsx)("td",{className:"px-4 py-3",children:t+1}),(0,r.jsx)("td",{className:"px-4 py-3 font-medium",children:e.code}),(0,r.jsx)("td",{className:"px-4 py-3",children:e.category}),(0,r.jsx)("td",{className:"px-4 py-3",children:e.description}),(0,r.jsx)("td",{className:"px-4 py-3",children:(0,r.jsx)(m,{score:e.points})}),(0,r.jsx)("td",{className:"px-4 py-3",children:b?(0,r.jsxs)("div",{className:"flex items-center gap-3",children:[(0,r.jsx)("button",{type:"button",onClick:()=>B(e),className:"text-blue-600 hover:underline",children:"Sửa"}),(0,r.jsx)("button",{type:"button",onClick:()=>D(e.id),className:"text-red-600 hover:underline",children:"Xo\xe1"})]}):(0,r.jsx)("span",{className:"text-muted-foreground",children:"Chỉ QTV"})})]},e.id))]})]})})]}),(0,r.jsx)(d.Vq,{open:I,onOpenChange:C,children:(0,r.jsxs)(d.cZ,{className:"sm:max-w-[425px] bg-white dark:bg-slate-950",children:[(0,r.jsx)(d.fK,{children:(0,r.jsx)(d.$N,{children:V?"Cập Nhật Nội Quy":"Th\xeam Nội Quy Mới"})}),(0,r.jsxs)("div",{className:"grid gap-4 py-4",children:[(0,r.jsxs)("div",{className:"grid grid-cols-4 items-center gap-4",children:[(0,r.jsx)(u._,{htmlFor:"category",className:"text-right",children:"Danh mục"}),(0,r.jsx)(c.I,{id:"category",name:"category",value:null!==(e=S.category)&&void 0!==e?e:"",onChange:F,className:"col-span-3",placeholder:"VD: Nề nếp"})]}),(0,r.jsxs)("div",{className:"grid grid-cols-4 items-center gap-4",children:[(0,r.jsx)(u._,{htmlFor:"description",className:"text-right",children:"M\xf4 tả"}),(0,r.jsx)(c.I,{id:"description",name:"description",value:null!==(t=S.description)&&void 0!==t?t:"",onChange:F,className:"col-span-3",placeholder:"M\xf4 tả chi tiết nội quy"})]}),(0,r.jsxs)("div",{className:"grid grid-cols-4 items-center gap-4",children:[(0,r.jsx)(u._,{htmlFor:"points",className:"text-right",children:"Điểm"}),(0,r.jsx)(c.I,{id:"points",name:"points",type:"number",value:String(null!==(n=S.points)&&void 0!==n?n:0),onChange:F,className:"col-span-3",placeholder:"VD: -5 hoặc 10"})]}),(0,r.jsxs)("div",{className:"grid grid-cols-4 items-center gap-4",children:[(0,r.jsx)(u._,{htmlFor:"type",className:"text-right",children:"Loại"}),(0,r.jsxs)(f.Ph,{name:"type",value:null!==(x=S.type)&&void 0!==x?x:"merit",onValueChange:e=>U("type",e),children:[(0,r.jsx)(f.i4,{className:"col-span-3",children:(0,r.jsx)(f.ki,{placeholder:"Chọn loại điểm"})}),(0,r.jsxs)(f.Bw,{children:[(0,r.jsx)(f.Ql,{value:"merit",children:"Tuy\xean dương (điểm cộng)"}),(0,r.jsx)(f.Ql,{value:"demerit",children:"Vi phạm (điểm trừ)"})]})]})]})]}),(0,r.jsxs)(d.cN,{children:[(0,r.jsx)(d.GG,{asChild:!0,children:(0,r.jsx)(o.z,{type:"button",variant:"secondary",children:"Huỷ"})}),(0,r.jsx)(o.z,{type:"button",onClick:k,disabled:T,children:T?V?"Đang cập nhật...":"Đang lưu...":V?"Lưu thay đổi":"Lưu"})]})]})})]})}},50466:function(e,t,n){"use strict";n.d(t,{z:function(){return d}});var r=n(27573),a=n(7653),s=n(8828),i=n(49289),l=n(29147);let o=(0,i.j)("inline-flex items-center justify-center whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90 active:bg-blue-700",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),d=a.forwardRef((e,t)=>{let{className:n,variant:a,size:i,asChild:d=!1,...c}=e,u=d?s.g7:"button";return(0,r.jsx)(u,{className:(0,l.cn)(o({variant:a,size:i,className:n})),ref:t,...c})});d.displayName="Button"},29324:function(e,t,n){"use strict";n.d(t,{$N:function(){return x},Be:function(){return g},GG:function(){return u},Vq:function(){return o},cN:function(){return h},cZ:function(){return p},fK:function(){return m},hg:function(){return d}});var r=n(27573),a=n(7653),s=n(57164),i=n(10269),l=n(29147);let o=s.fC,d=s.xz,c=s.h_,u=s.x8,f=a.forwardRef((e,t)=>{let{className:n,...a}=e;return(0,r.jsx)(s.aV,{ref:t,className:(0,l.cn)("fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",n),...a})});f.displayName=s.aV.displayName;let p=a.forwardRef((e,t)=>{let{className:n,children:a,...o}=e;return(0,r.jsxs)(c,{children:[(0,r.jsx)(f,{}),(0,r.jsxs)(s.VY,{ref:t,className:(0,l.cn)("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",n),...o,children:[a,(0,r.jsxs)(s.x8,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-accent data-[state=open]:text-muted-foreground",children:[(0,r.jsx)(i.Z,{className:"h-4 w-4"}),(0,r.jsx)("span",{className:"sr-only",children:"Close"})]})]})]})});p.displayName=s.VY.displayName;let m=e=>{let{className:t,...n}=e;return(0,r.jsx)("div",{className:(0,l.cn)("flex flex-col space-y-1.5 text-center sm:text-left",t),...n})};m.displayName="DialogHeader";let h=e=>{let{className:t,...n}=e;return(0,r.jsx)("div",{className:(0,l.cn)("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",t),...n})};h.displayName="DialogFooter";let x=a.forwardRef((e,t)=>{let{className:n,...a}=e;return(0,r.jsx)(s.Dx,{ref:t,className:(0,l.cn)("text-lg font-semibold leading-none tracking-tight",n),...a})});x.displayName=s.Dx.displayName;let g=a.forwardRef((e,t)=>{let{className:n,...a}=e;return(0,r.jsx)(s.dk,{ref:t,className:(0,l.cn)("text-sm text-muted-foreground",n),...a})});g.displayName=s.dk.displayName},39134:function(e,t,n){"use strict";n.d(t,{I:function(){return i}});var r=n(27573),a=n(7653),s=n(29147);let i=a.forwardRef((e,t)=>{let{className:n,type:a,...i}=e;return(0,r.jsx)("input",{type:a,className:(0,s.cn)("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",n),ref:t,...i})});i.displayName="Input"},81758:function(e,t,n){"use strict";n.d(t,{_:function(){return u}});var r=n(27573),a=n(7653);n(3458);var s=n(8828),i=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"].reduce((e,t)=>{let n=(0,s.Z8)(`Primitive.${t}`),i=a.forwardRef((e,a)=>{let{asChild:s,...i}=e,l=s?n:t;return"undefined"!=typeof window&&(window[Symbol.for("radix-ui")]=!0),(0,r.jsx)(l,{...i,ref:a})});return i.displayName=`Primitive.${t}`,{...e,[t]:i}},{}),l=a.forwardRef((e,t)=>(0,r.jsx)(i.label,{...e,ref:t,onMouseDown:t=>{var n;t.target.closest("button, input, select, textarea")||(null===(n=e.onMouseDown)||void 0===n||n.call(e,t),!t.defaultPrevented&&t.detail>1&&t.preventDefault())}}));l.displayName="Label";var o=n(49289),d=n(29147);let c=(0,o.j)("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),u=a.forwardRef((e,t)=>{let{className:n,...a}=e;return(0,r.jsx)(l,{ref:t,className:(0,d.cn)(c(),n),...a})});u.displayName=l.displayName},98609:function(e,t,n){"use strict";n.d(t,{Bw:function(){return h},Ph:function(){return c},Ql:function(){return x},i4:function(){return f},ki:function(){return u}});var r=n(27573),a=n(7653),s=n(62968),i=n(38983),l=n(34965),o=n(87354),d=n(29147);let c=s.fC;s.ZA;let u=s.B4,f=a.forwardRef((e,t)=>{let{className:n,children:a,...l}=e;return(0,r.jsxs)(s.xz,{ref:t,className:(0,d.cn)("flex h-10 w-full items-center justify-between rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1",n),...l,children:[a,(0,r.jsx)(s.JO,{asChild:!0,children:(0,r.jsx)(i.Z,{className:"h-4 w-4 opacity-50"})})]})});f.displayName=s.xz.displayName;let p=a.forwardRef((e,t)=>{let{className:n,...a}=e;return(0,r.jsx)(s.u_,{ref:t,className:(0,d.cn)("flex cursor-default items-center justify-center py-1",n),...a,children:(0,r.jsx)(l.Z,{className:"h-4 w-4"})})});p.displayName=s.u_.displayName;let m=a.forwardRef((e,t)=>{let{className:n,...a}=e;return(0,r.jsx)(s.$G,{ref:t,className:(0,d.cn)("flex cursor-default items-center justify-center py-1",n),...a,children:(0,r.jsx)(i.Z,{className:"h-4 w-4"})})});m.displayName=s.$G.displayName;let h=a.forwardRef((e,t)=>{let{className:n,children:a,position:i="popper",...l}=e;return(0,r.jsx)(s.h_,{children:(0,r.jsxs)(s.VY,{ref:t,className:(0,d.cn)("relative z-50 max-h-96 min-w-[8rem] overflow-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2","popper"===i&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",n),position:i,...l,children:[(0,r.jsx)(p,{}),(0,r.jsx)(s.l_,{className:(0,d.cn)("p-1","popper"===i&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:a}),(0,r.jsx)(m,{})]})})});h.displayName=s.VY.displayName,a.forwardRef((e,t)=>{let{className:n,...a}=e;return(0,r.jsx)(s.__,{ref:t,className:(0,d.cn)("py-1.5 pl-8 pr-2 text-sm font-semibold",n),...a})}).displayName=s.__.displayName;let x=a.forwardRef((e,t)=>{let{className:n,children:a,...i}=e;return(0,r.jsxs)(s.ck,{ref:t,className:(0,d.cn)("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm text-foreground outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",n),...i,children:[(0,r.jsx)("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:(0,r.jsx)(s.wU,{children:(0,r.jsx)(o.Z,{className:"h-4 w-4"})})}),(0,r.jsx)(s.eT,{children:a})]})});x.displayName=s.ck.displayName,a.forwardRef((e,t)=>{let{className:n,...a}=e;return(0,r.jsx)(s.Z0,{ref:t,className:(0,d.cn)("-mx-1 my-1 h-px bg-muted",n),...a})}).displayName=s.Z0.displayName},66356:function(e,t,n){"use strict";n.d(t,{l:function(){return u},I:function(){return p},db:function(){return f}});var r=n(90791),a=n(21897),s=n(78022),i=n(17865),l=n(68571);function o(e){let t=l.env[e];if(!t||""===t.trim())throw Error("Thiếu biến m\xf4i trường ".concat(e,". Kiểm tra .env.local / secrets."));return t}let d={NEXT_PUBLIC_FIREBASE_API_KEY:o("NEXT_PUBLIC_FIREBASE_API_KEY"),NEXT_PUBLIC_FIREBASE_AUTH_DOMAIN:o("NEXT_PUBLIC_FIREBASE_AUTH_DOMAIN"),NEXT_PUBLIC_FIREBASE_PROJECT_ID:o("NEXT_PUBLIC_FIREBASE_PROJECT_ID"),NEXT_PUBLIC_FIREBASE_STORAGE_BUCKET:o("NEXT_PUBLIC_FIREBASE_STORAGE_BUCKET"),NEXT_PUBLIC_FIREBASE_MESSAGING_SENDER_ID:o("NEXT_PUBLIC_FIREBASE_MESSAGING_SENDER_ID"),NEXT_PUBLIC_FIREBASE_APP_ID:o("NEXT_PUBLIC_FIREBASE_APP_ID"),NEXT_PUBLIC_RECAPTCHA_SITE_KEY:o("NEXT_PUBLIC_RECAPTCHA_SITE_KEY")},c={apiKey:d.NEXT_PUBLIC_FIREBASE_API_KEY,authDomain:d.NEXT_PUBLIC_FIREBASE_AUTH_DOMAIN,projectId:d.NEXT_PUBLIC_FIREBASE_PROJECT_ID,storageBucket:d.NEXT_PUBLIC_FIREBASE_STORAGE_BUCKET,messagingSenderId:d.NEXT_PUBLIC_FIREBASE_MESSAGING_SENDER_ID,appId:d.NEXT_PUBLIC_FIREBASE_APP_ID},u=(0,r.C6)().length?(0,r.Mq)():(0,r.ZF)(c);{let e=globalThis;e.__firebaseAppCheckInitialized||(e.__firebaseAppCheckInitialized=!0,(0,i.yu)(u,{provider:new i.o4(d.NEXT_PUBLIC_RECAPTCHA_SITE_KEY),isTokenAutoRefreshEnabled:!0}))}let f=(0,a.ad)(u),p=(0,s.v0)(u)},29147:function(e,t,n){"use strict";n.d(t,{Es:function(){return o},Hg:function(){return c},ap:function(){return d},cn:function(){return s}});var r=n(10607),a=n(25579);function s(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return(0,a.m6)((0,r.W)(t))}let i=new Date(2025,8,8),l=e=>{let t=new Date(e);return t.setHours(0,0,0,0),t},o=()=>{let e=[{value:"",label:"Tất cả c\xe1c tuần"}],t=e=>e<10?"0".concat(e):"".concat(e);for(let n=1;n<=35;n++){let r=new Date(l(i).getTime()+(n-1)*6048e5),a=new Date(r.getTime()+5184e5);e.push({value:String(n),label:"Tuần ".concat(n," (").concat(t(r.getDate()),"/").concat(t(r.getMonth()+1)," - ").concat(t(a.getDate()),"/").concat(t(a.getMonth()+1),")")})}return e},d=e=>{if(!e)return"";let t=e.match(/(?:class_)?(\d+)/);return t?t[1]:""},c=e=>e&&e.startsWith("class_")?e.substring(6).replace(/_/g,"/"):e},94492:function(e,t,n){"use strict";n.d(t,{F:function(){return s},e:function(){return i}});var r=n(7653);function a(e,t){if("function"==typeof e)return e(t);null!=e&&(e.current=t)}function s(...e){return t=>{let n=!1,r=e.map(e=>{let r=a(e,t);return n||"function"!=typeof r||(n=!0),r});if(n)return()=>{for(let t=0;t<r.length;t++){let n=r[t];"function"==typeof n?n():a(e[t],null)}}}}function i(...e){return r.useCallback(s(...e),e)}},8828:function(e,t,n){"use strict";n.d(t,{Z8:function(){return c},g7:function(){return u}});var r,a=n(7653),s=n(94492),i=n(27573),l=Symbol.for("react.lazy"),o=(r||(r=n.t(a,2)))[" use ".trim().toString()];function d(e){var t;return null!=e&&"object"==typeof e&&"$$typeof"in e&&e.$$typeof===l&&"_payload"in e&&"object"==typeof(t=e._payload)&&null!==t&&"then"in t}function c(e){let t=function(e){let t=a.forwardRef((e,t)=>{let{children:n,...r}=e;if(d(n)&&"function"==typeof o&&(n=o(n._payload)),a.isValidElement(n)){var i;let e,l;let o=(i=n,(e=Object.getOwnPropertyDescriptor(i.props,"ref")?.get)&&"isReactWarning"in e&&e.isReactWarning?i.ref:(e=Object.getOwnPropertyDescriptor(i,"ref")?.get)&&"isReactWarning"in e&&e.isReactWarning?i.props.ref:i.props.ref||i.ref),d=function(e,t){let n={...t};for(let r in t){let a=e[r],s=t[r];/^on[A-Z]/.test(r)?a&&s?n[r]=(...e)=>{let t=s(...e);return a(...e),t}:a&&(n[r]=a):"style"===r?n[r]={...a,...s}:"className"===r&&(n[r]=[a,s].filter(Boolean).join(" "))}return{...e,...n}}(r,n.props);return n.type!==a.Fragment&&(d.ref=t?(0,s.F)(t,o):o),a.cloneElement(n,d)}return a.Children.count(n)>1?a.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}(e),n=a.forwardRef((e,n)=>{let{children:r,...s}=e;d(r)&&"function"==typeof o&&(r=o(r._payload));let l=a.Children.toArray(r),c=l.find(p);if(c){let e=c.props.children,r=l.map(t=>t!==c?t:a.Children.count(e)>1?a.Children.only(null):a.isValidElement(e)?e.props.children:null);return(0,i.jsx)(t,{...s,ref:n,children:a.isValidElement(e)?a.cloneElement(e,void 0,r):null})}return(0,i.jsx)(t,{...s,ref:n,children:r})});return n.displayName=`${e}.Slot`,n}var u=c("Slot"),f=Symbol("radix.slottable");function p(e){return a.isValidElement(e)&&"function"==typeof e.type&&"__radixId"in e.type&&e.type.__radixId===f}},49289:function(e,t,n){"use strict";n.d(t,{j:function(){return i}});var r=n(10607);let a=e=>"boolean"==typeof e?`${e}`:0===e?"0":e,s=r.W,i=(e,t)=>n=>{var r;if((null==t?void 0:t.variants)==null)return s(e,null==n?void 0:n.class,null==n?void 0:n.className);let{variants:i,defaultVariants:l}=t,o=Object.keys(i).map(e=>{let t=null==n?void 0:n[e],r=null==l?void 0:l[e];if(null===t)return null;let s=a(t)||a(r);return i[e][s]}),d=n&&Object.entries(n).reduce((e,t)=>{let[n,r]=t;return void 0===r||(e[n]=r),e},{});return s(e,o,null==t?void 0:null===(r=t.compoundVariants)||void 0===r?void 0:r.reduce((e,t)=>{let{class:n,className:r,...a}=t;return Object.entries(a).every(e=>{let[t,n]=e;return Array.isArray(n)?n.includes({...l,...d}[t]):({...l,...d})[t]===n})?[...e,n,r]:e},[]),null==n?void 0:n.class,null==n?void 0:n.className)}}},function(e){e.O(0,[6415,5117,2997,1661,9445,6158,7554,792,294,1293,1528,1744],function(){return e(e.s=73771)}),_N_E=e.O()}]);