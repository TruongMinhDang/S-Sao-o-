(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[361],{9081:function(e,t,r){Promise.resolve().then(r.bind(r,7259))},1511:function(e,t,r){"use strict";r.d(t,{Z:function(){return d}});var n=r(7653);let a=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),s=function(){for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r];return t.filter((e,t,r)=>!!e&&r.indexOf(e)===t).join(" ")};var i={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};let l=(0,n.forwardRef)((e,t)=>{let{color:r="currentColor",size:a=24,strokeWidth:l=2,absoluteStrokeWidth:d,className:c="",children:o,iconNode:u,...f}=e;return(0,n.createElement)("svg",{ref:t,...i,width:a,height:a,stroke:r,strokeWidth:d?24*Number(l)/Number(a):l,className:s("lucide",c),...f},[...u.map(e=>{let[t,r]=e;return(0,n.createElement)(t,r)}),...Array.isArray(o)?o:[o]])}),d=(e,t)=>{let r=(0,n.forwardRef)((r,i)=>{let{className:d,...c}=r;return(0,n.createElement)(l,{ref:i,iconNode:t,className:s("lucide-".concat(a(e)),d),...c})});return r.displayName="".concat(e),r}},7259:function(e,t,r){"use strict";r.r(t),r.d(t,{default:function(){return o}});var n=r(7573),a=r(7653),s=r(6228),i=r(9546),l=r(1523);let d=(0,r(1511).Z)("CheckCheck",[["path",{d:"M18 6 7 17l-5-5",key:"116fxf"}],["path",{d:"m22 10-7.5 7.5L13 16",key:"ke71qq"}]]);var c=r(8146);function o(){let[e,t]=(0,a.useState)(null),[r,o]=(0,a.useState)([]);(0,a.useEffect)(()=>{let e=(0,l.Aj)(i.I,e=>{var r;return t(null!==(r=null==e?void 0:e.uid)&&void 0!==r?r:null)});return()=>e()},[]),(0,a.useEffect)(()=>{if(!e){o([]);return}let t=(0,s.IO)((0,s.hJ)(i.db,"notifications"),(0,s.ar)("recipients","array-contains",e),(0,s.Xo)("createdAt","desc")),r=(0,s.cf)(t,e=>{o(e.docs.map(e=>({id:e.id,...e.data()})))});return()=>r()},[e]);let u=async t=>{e&&await (0,s.r7)((0,s.JU)(i.db,"notifications",t),{readBy:(0,s.vr)(e)})},f=async()=>{e&&await Promise.all(r.filter(t=>{var r;return!(null!==(r=t.readBy)&&void 0!==r?r:[]).includes(e)}).map(t=>(0,s.r7)((0,s.JU)(i.db,"notifications",t.id),{readBy:(0,s.vr)(e)})))};return(0,n.jsxs)("div",{className:"mx-auto max-w-3xl space-y-4",children:[(0,n.jsxs)("div",{className:"flex items-center justify-between",children:[(0,n.jsx)("h1",{className:"bg-gradient-to-r from-[#ff7a18] to-[#af002d] bg-clip-text text-2xl font-extrabold text-transparent",children:"Th\xf4ng b\xe1o"}),(0,n.jsxs)("button",{onClick:f,className:"inline-flex items-center gap-2 rounded-md border px-3 py-1.5 text-sm hover:bg-muted",children:[(0,n.jsx)(d,{className:"h-4 w-4"}),"Đ\xe1nh dấu tất cả đ\xe3 đọc"]})]}),(0,n.jsxs)("div",{className:"divide-y rounded-xl border",children:[r.map(t=>{var r;let a=e&&!(null!==(r=t.readBy)&&void 0!==r?r:[]).includes(e);return(0,n.jsxs)("div",{className:"flex items-start gap-3 p-4",children:[(0,n.jsx)("div",{className:"mt-1 h-2 w-2 flex-shrink-0 rounded-full",style:{background:a?"#ff7a18":"transparent"},title:a?"Chưa đọc":"Đ\xe3 đọc"}),(0,n.jsxs)("div",{className:"flex-1",children:[(0,n.jsx)("div",{className:"font-medium",children:t.title}),t.body&&(0,n.jsx)("p",{className:"text-sm text-muted-foreground",children:t.body})]}),a&&(0,n.jsxs)("button",{onClick:()=>u(t.id),className:"inline-flex items-center gap-1 rounded-md border px-2 py-1 text-xs hover:bg-muted",children:[(0,n.jsx)(d,{className:"h-4 w-4"}),"Đ\xe3 đọc"]})]},t.id)}),0===r.length&&(0,n.jsxs)("div",{className:"p-8 text-center text-sm text-muted-foreground",children:["Chưa c\xf3 th\xf4ng b\xe1o."," ",(0,n.jsx)(c.default,{href:"/",className:"text-primary hover:underline",children:"Về trang chủ"})]})]})]})}},9546:function(e,t,r){"use strict";r.d(t,{I:function(){return d},db:function(){return l},l:function(){return i}});var n=r(8531),a=r(6228),s=r(1523);let i=(0,n.C6)().length?(0,n.Mq)():(0,n.ZF)({apiKey:"AIzaSyAqGxdFqDGXOiiKP5cKFvPkNkmTdY4aByw",authDomain:"app-quan-ly-hs.firebaseapp.com",projectId:"app-quan-ly-hs",storageBucket:"app-quan-ly-hs.firebasestorage.app",messagingSenderId:"771200825229",appId:"1:771200825229:web:bdffe0944b21edff21afc4"}),l=(0,a.ad)(i),d=(0,s.v0)(i)}},function(e){e.O(0,[415,5,460,146,293,528,744],function(){return e(e.s=9081)}),_N_E=e.O()}]);